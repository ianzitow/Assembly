.data

.asciiz "Organizacao e Arquitetura de Computadores 2012/2"

FlagsTeclas: .word 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      	           0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
      		   0x00, 0x00, 0x00, 0x00


pig: .word 0x00000000 0x00527262 0x00000000 0x00000000 0x00000000
	   0x00000000 0x00626A6A 0x09000000 0x00000009 0x52520000
	   0x00000000 0x00620851 0x51000909 0x0100005A 0xBBB45200
	   0x00000000 0x095A6162 0x6AB26A6A 0x6A525B62 0x106A5900
	   0x0000014A 0x626AB2B2 0x6A6A6A72 0x72726A51 0x08620900
	   0x00015B6A 0x726A6A6A 0x6A6A6A6A 0x6A6A72B2 0x615B0000
	   0x00526A72 0x6A6A6A6A 0x6A6A6A6A 0x6A6A6AB2 0x72A35200
	   0x5261606A 0x6AAA6A6A 0x6A6A6A6A 0x6A6A6A6A 0xB2695A00
	   0x5A6AAD62 0x6A6A6AAA 0xB1B1B1AA 0x6A6A6AB2 0x6959185B
	   0x5BF6FFF6 0x626AA9B2 0xB2B2AAB2 0xB1AA6A6A 0x62F6AC5A
	   0xAD52ACFF 0x6369B261 0x59B2B2B2 0xB2B16962 0xF6FFF6A4
	   0x5AF7FFB6 0x62B1B209 0x0061BA51 0x51B2B162 0xFFA45BAE
	   0x616BAC62 0x69B2B259 0x0061B200 0x51B2B161 0xA5FFF75A
	   0x6269696A 0x6AAAB2AA 0x61B2B261 0xAAB1AA6A 0x61636A61
	   0x5A69B26A 0x6A6AA9B1 0xB2B2AAB2 0xB2A96A6A 0xB26A6962
	   0x53696A6A 0x6A6A6A6A 0xB1B2B1A9 0xAA6A6A6A 0x6AB2695B
	   0x00A3696A 0x6A6A6A6A 0x6A6A6A6A 0x6A6A6A6A 0x6A69AB09
	   0x00006369 0x6A6A6A72 0x59406A72 0x6A6A6AAA 0x696A5200
	   0x00000063 0x69697272 0x6A626A6A 0x6AAA7269 0xAB4A0000
	   0x00000000 0x5A6A696A 0x72B2B26A 0x6A696163 0x4A000000
	   0x00000000 0x00095263 0x62626262 0x5A5A5200 0x00000000
	   
redBird: .word	0x00000000 0x00000000 0x00000000 0x00000009 0x494A4909 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000041 0xC1C1C181 0x41090000 0x00000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000981 0xC181C1C1 0xC1C14109 0x00000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000009 0x81C18181 0x81C1C180 0x52000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000009 0x49494949 0x418181C1 0x8181C1C1 0x80090000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00094080 0x81C1C1C1 0x81818181 0x818181C1 0xC1410900 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x000980C1 0xC181C181 0x81C18181 0x81818181 0xC1C14909 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00498080 0x81818181 0x81818181 0x81818181 0x81C1C181 0x81490000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000952 0x49418181 0x81818181 0x81818181 0x818181C1 0xC1814109 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000009 0x4181C181 0x81818181 0x81818181 0x81818181 0x81C1C180 0x09000000 0x00000000
		0x00000000 0x00000000 0x00000040 0xC0C18181 0x81818181 0x81818181 0x81818181 0x818181C1 0xC1400900 0x00000000
		0x00000000 0x00000000 0x00000980 0xC1818181 0x81818181 0x8181C181 0x81818181 0x81818181 0xC1C14009 0x00000000
		0x00000000 0x00000000 0x000940C1 0x81818181 0x81818181 0x818181C1 0x81818181 0x81818181 0x81C1C140 0x09000000
		0x00000000 0x00000000 0x004980C1 0x81818181 0x81818181 0xC1410081 0xC1C18181 0x81818181 0x8181C181 0x09000000
		0x00000000 0x00000000 0x09408181 0x81818181 0x818181C1 0x81000000 0x41C1C181 0x81818181 0xC1C14000 0x40490000
		0x00000000 0x00000000 0x41808181 0x81818181 0x818181C1 0x40000000 0x004081C1 0xC181C1C1 0x81400000 0x40490000
		0x00000000 0x00000009 0x40818181 0x81818181 0x81818181 0x81400000 0x00000040 0x81C18141 0x00000000 0x40800900
		0x00000000 0x00000049 0x80818181 0x81818181 0x81818181 0xC18152A4 0x52000000 0x00410000 0x00080081 0x81C14900
		0x00000049 0x09000940 0x80818181 0x81818181 0x81818181 0xC140ADFF 0xFFADA409 0x0000005B 0xADFF9B80 0xC1C18109
		0x00000000 0x00090940 0x80818181 0x81818181 0x818181C1 0x8149FFFF 0x5A00F6FF 0xADA409A4 0xFFFFAD40 0xC1C18009
		0x01090000 0x09000980 0x80818181 0x81818181 0x81818181 0x8140ADFF 0xAD5BF6FF 0xA4A4AEB6 0xFFFF5B40 0x81C18049
		0x09000009 0x09120081 0x81818181 0x81818181 0x8181C181 0x8180405B 0xFEFFAE5B 0x9898A35C 0x53524081 0x81C18049
		0x49000000 0x00124181 0x81818181 0x81818181 0x8181C181 0x81818140 0x400148E0 0xE8E9E890 0x00408181 0x81C18049
		0x09090909 0x49110081 0x81818181 0x81818181 0x41818181 0x81818181 0x4050F0E8 0xE9E8E9F1 0xE9484181 0x81C18049
		0x00000009 0x00094980 0x81818181 0x8181C181 0x818181C1 0x81818140 0x50F1E8E9 0xE9E9E8E9 0xE9E94841 0xC1C18049
		0x00000009 0x49004A80 0x80818181 0x81C1C181 0x818181C1 0x81818140 0xA8E8E8E8 0xE8E8E8E9 0xE8E8A940 0x81C14009
		0x00000000 0x00000940 0x80818181 0x8181C181 0x81818181 0x81C0C140 0xA1EAA2A1 0x99A2A1A0 0xE9E9F158 0x41C14009
		0x00000000 0x00000941 0x8081C181 0x818181C1 0x81418080 0x8192E351 0x09A5655C 0x5C534948 0x4850E9A1 0x81810009
		0x00000000 0x00000049 0x80808181 0x814181C1 0x818081DB 0xACACF4AC 0x4950E1E1 0x99E1D891 0x52898051 0x81400900
		0x00000000 0x00000009 0x40808181 0x81418181 0x80D2ECF5 0xACA4A4EC 0xAC5290D8 0xE198919B 0xACECC980 0x81000900
		0x00000000 0x00000000 0x49808081 0x81818181 0xE3F5F5EC 0xA4ACACA4 0xECAC9B52 0x4851A4EC 0xA4ACE4C1 0x00090000
		0x00000000 0x00000000 0x09408080 0x81C181E3 0xF5ECECAC 0xA4ACACAC 0xA4ACECEC 0xA3ACECA4 0xA4ECAC00 0x09000000
		0x00000000 0x00000000 0x00094080 0x8080DBF5 0xECECACA4 0xA4ACACAC 0xACA4ACAC 0xECACA3EC 0xF4A30009 0x00000000
		0x00000000 0x00000000 0x00000941 0x8092F5AC 0xACA4A4A4 0xACACACAC 0xACACACAC 0xACECEDA4 0x51000900 0x00000000
		0x00000000 0x00000000 0x00000009 0x0051A3A4 0xECECECAC 0xACACACEC 0xECECECEC 0xA49A5109 0x09000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00090951 0x52929AA3 0xA39BA3A3 0x9A9A9A52 0x49090900 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x01094909 0x09490909 0x49090100 0x00000000 0x00000000 0x00000000
		
yellowBird: .word	0x00000000 0x00000000 0x00000000 0x00000000 0x00520100 0x00000909 0x01000009 0x49090000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x00000900 0x09090000 0x00090000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x49005152 0x00000900 0x52000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x49000000 0x09090900 0x49000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x49000909 0x09090909 0x00000909 0x09000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x4A000809 0x09090909 0x09090900 0x09090000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x09000001 0x01090800 0x09090000 0x00090000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x00090058 0x51010949 0x00000900 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000000 0x0901A1FA 0xF9510100 0x09090909 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000001 0x00A8FCF2 0xF0F95009 0x00000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x00000908 0xF1FCFCF0 0xF1F1F948 0x09000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x000100F0 0xFCFDF1F0 0xF1F1F8F1 0x08090000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000000 0x0900F0FB 0xFEF1F0F1 0xF1F1F1F9 0xE8000000 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000009 0x00F0FBFE 0xF2F0F1F1 0xF1F1F1F1 0xF9A00900 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x00000900 0xA8FAFEF2 0xF0F1F1F1 0xF1F1F1F1 0xF1F95009 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x000001A0 0xF9FDF3F0 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F049 0x00000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x000150F8 0xF2F2F0F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F9A0 0x09000000 0x00000000 0x00000000
		0x00000000 0x00000000 0x0908F9F1 0xF1F0F1F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F1F9 0x50090000 0x00000000 0x00000949
		0x00000000 0x00000001 0x00E9F9F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F1F9 0xF1F1F1F1 0xF0490000 0x00000000 0x00005209
		0x00000000 0x00000001 0x98F9F1F1 0xF1F1F1F1 0xF1F1F1F1 0xF9F9F1A1 0x9091F1F1 0xF9A00900 0x00094900 0x00004A00
		0x00004949 0x00000950 0xF9F1F1F1 0xF1F1F1F1 0xF1F1F9F1 0xE9998880 0x8080E1F9 0xF1F05100 0x00000009 0x00090000
		0x00498080 0x898940A1 0xF1F9F9F9 0xF1F1F1F9 0xF1E99990 0x80808080 0x8888A1F9 0xF1F9A009 0x49000049 0x00090009
		0x00498080 0x80808080 0x8890A1E9 0xF1F1F1A1 0x90888080 0x808090E1 0xE9F1F1F1 0xF1F1F950 0x00090009 0x49000009
		0x00000049 0x49489189 0x80408080 0x99F9A140 0x8089929B 0xEDAEA1F8 0xF9F1F1F1 0xF1F1F9E9 0x01010909 0x00005200
		0x00000000 0x0909F6F7 0xEDA49B88 0xD8F9F190 0x9BEEFFFF 0xFFFFADA0 0xF1F1F1F1 0xF1F1F1F9 0x59010909 0x00090000
		0x00000000 0x48504AFF 0xFFFFFF62 0xA0A1A9F2 0x5209FFFF 0xFFFFF7A1 0xF0F1F1F1 0xF1F1F1F9 0xF1090000 0x00090000
		0x00000009 0x98A1A5FF 0xAE645B51 0x509951A1 0x5BA4FFFF 0xFFFFAEA0 0xF1F1F1F1 0xF1F1F1F1 0xF9590109 0x00094900
		0x00000009 0xF8F1A55B 0x509898E0 0xE8E8E898 0x5AFFFFFF 0xFFAE5AF0 0xF1F1F1F1 0xF1F1F1F1 0xF1A80900 0x49090000
		0x00000958 0xF99990E0 0xF0E8E8E1 0xE0A0A0E0 0x5059ABAC 0xA4A1E8F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F85900 0x00000000
		0x000009A8 0x5149A198 0x90999999 0x99989998 0x9958A8A8 0xA8F0F1F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F9A849 0x00000000
		0x000950F1 0x99A1A1A1 0x5151E1E0 0xE0E8E8E8 0xE051A9F9 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F051 0x00000000
		0x000998F9 0xF9F9F9F9 0xF9A198E0 0xE8E8E098 0x51A9F1F1 0xF1F1F0F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F1F198 0x49000000
		0x0049F0F1 0xF1F0F0F0 0xF0F8A99A 0x99999999 0xA9F0F0F0 0xF0F0F1F1 0xF1F1F1F1 0xF1F1F1F1 0xF1F1E9F0 0x51000000
		0x0950F9F1 0xF0F0F2F3 0xFDFEFEFE 0xB6B7FEFE 0xFDF5F4F2 0xF1F0F0F0 0xF0F1F1F1 0xF1F1F1F1 0xF1F1F1E8 0x48010000
		0x4A00A0F0 0xFAFDFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFDFCF2 0xF1F0F0F1 0xF1F1E9A8 0xA0595049 0x09000000
		0x00090949 0x515BACB5 0xFEFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFEF3A8A0 0x58585151 0x09090900 0x00000000
		0x00000000 0x09090849 0x49525B5B 0x5BA4A4AD 0xADADADAD 0xA4A4A45B 0x53534909 0x09090100 0x00000000 0x00000000

.text

INICIAL:
la $s0, 0x8000003C
la $s1, pig
jal imprimePorco

la $s2, 0x800B30DC
la $s3, yellowBird
jal imprimeYellowBird

la $s4, 0x800B303C
la $s5, redBird
jal imprimeRedBird

la $t7, FlagsTeclas

LOOP:
li $v0, 49
syscall

la $t0, FlagsTeclas

addi $t0, $t0, 0x00
lw $t1, 21($t0)
#beq $a0, $v0, LOOP
#move $a0, $v0


#move $t1, $v0
#move $v0, $zero

li $t2, 0x61
beq $t1, $t2, esqRedBird
j LOOP
#beq $t1, 0x35, dirRedBird
esqRedBird:
addi $s4, $s4, -1
jal imprimeRedBird
j LOOP
#dirRedBird:
#addi $s4, $s4, 1
#jal imprimeRedBird
#j LOOP


imprimePorco:
add $t0, $zero, $zero
add $t1, $zero, $zero
add $t0, $zero, $s0 #video
add $t1, $zero, $s1 #pig
add $t5, $zero, $zero  #contador
add $t4, $zero, $zero
addi $t4, $s0, 0x15014

imprimePorcoLoop:
lw $t2, 0($t1) #carrega um grupo de 4

srl $t3, $t2, 24 #pega o primeiro par
sw $t3, 0($t0)

sll $t3, $t2, 8 #pega o segundo par
srl $t3, $t3, 24
sw $t3, 1($t0)

sll $t3, $t2, 16 #pega o terceiro par
srl $t3, $t3, 24
sw $t3, 2($t0)

sll $t3, $t2, 24 #pega o quarto par
srl $t3, $t3, 24
sw $t3, 3($t0)

addi $t1, $t1, 4 #avança ao próximo grupo
addi $t0, $t0, 4 #avança ao próximo grupo do vídeo

addi, $t5, $t5, 1 #contador

beq $t0, $t4, imprimePorcoFim
bne $t5, 5, imprimePorcoLoop
addi $t0, $t0, 0x1000 #pula uma linha do vídeo
subi $t0, $t0, 20
add $t5, $zero, $zero

j imprimePorcoLoop

imprimePorcoFim:
jr $ra




imprimeRedBird:
add $t0, $zero, $zero
add $t1, $zero, $zero
add $t0, $zero, $s4 #video
add $t1, $zero, $s5 #bird
add $t5, $zero, $zero  #contador
add $t4, $zero, $zero
addi $t4, $s4, 0x25028

imprimeRedBirdLoop:
lw $t2, 0($t1) #carrega um grupo de 4

srl $t3, $t2, 24 #pega o primeiro par
sw $t3, 0($t0)

sll $t3, $t2, 8 #pega o segundo par
srl $t3, $t3, 24
sw $t3, 1($t0)

sll $t3, $t2, 16 #pega o terceiro par
srl $t3, $t3, 24
sw $t3, 2($t0)

sll $t3, $t2, 24 #pega o quarto par
srl $t3, $t3, 24
sw $t3, 3($t0)

addi $t1, $t1, 4 #avança ao próximo grupo
addi $t0, $t0, 4 #avança ao próximo grupo do vídeo

addi, $t5, $t5, 1 #contador

beq $t0, $t4, imprimeRedBirdFim
bne $t5, 10, imprimeRedBirdLoop
addi $t0, $t0, 0x1000 #pula uma linha do vídeo
subi $t0, $t0, 40
add $t5, $zero, $zero

j imprimeRedBirdLoop

imprimeRedBirdFim:
jr $ra




imprimeYellowBird:
add $t0, $zero, $zero
add $t1, $zero, $zero
add $t0, $zero, $s2 #video
add $t1, $zero, $s3 #bird
add $t5, $zero, $zero  #contador
add $t4, $zero, $zero
addi $t4, $s2, 0x25028

imprimeYellowBirdLoop:
lw $t2, 0($t1) #carrega um grupo de 4

srl $t3, $t2, 24 #pega o primeiro par
sw $t3, 0($t0)

sll $t3, $t2, 8 #pega o segundo par
srl $t3, $t3, 24
sw $t3, 1($t0)

sll $t3, $t2, 16 #pega o terceiro par
srl $t3, $t3, 24
sw $t3, 2($t0)

sll $t3, $t2, 24 #pega o quarto par
srl $t3, $t3, 24
sw $t3, 3($t0)

addi $t1, $t1, 4 #avança ao próximo grupo
addi $t0, $t0, 4 #avança ao próximo grupo do vídeo

addi, $t5, $t5, 1 #contador

beq $t0, $t4, imprimeYellowBirdFim
bne $t5, 10, imprimeYellowBirdLoop
addi $t0, $t0, 0x1000 #pula uma linha do vídeo
subi $t0, $t0, 40
add $t5, $zero, $zero

j imprimeYellowBirdLoop

imprimeYellowBirdFim:
jr $ra
